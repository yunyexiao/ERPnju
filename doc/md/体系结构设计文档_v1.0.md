灯具进销存管理系统体系结构设计文档_v1.0
===
变更记录
---
|修改人员|日期|变更原因|版本号|
|:--|:--|:--|:--|
|钱美缘|2017.10.12|文档结构框架|v1.0|

目录
---

## 1 引言
### 1.1 编制目的
本报告详细完成对灯具进销存管理系统的概要设计，从而达到指导详细设计和开发的目的，同时实现和测试人员以及用户的沟通。  
本报告面向开发人员、测试人员和用户编写，是了解系统的导航  

### 1.2 词汇表
|词汇名称|词汇含义|备注|
|---|---|---|
|ERP|进销存管理系统|无|

### 1.3 参考资料
* 灯具进销存系统用例文档_v2.0
* 灯具进销存需求规格说明文档_v1.0  

## 2 产品描述
参考灯具进销存系统用例文档和灯具进销存需求规格说明文档中对产品的概括描述。

## 3 逻辑视角
灯具进销存管理系统中，选择了分层体系结构风格，将系统分为三层（展示层、业务逻辑层、数据层）能够很好地示意整个高层抽象。展示层包含GUI界面的实现，业务逻辑层包含业务逻辑处理的实现，数据层负责数据的持久化和访问。分层体系结构的逻辑视角和逻辑设计方案如下图所示。  
![](doc/img/StructureDiagrams/packageLogic.png)

## 4 组合视角
### 4.1 开发包图
### 4.2 运行时进程
在灯具进销存管理系统中，会同时存在多个客户端进程和一个服务器端进程，其进程图如下图所示。结合部署图，客户端实在客户端机器上运行，服务器端进程是在服务器端机器上运行。  
![](doc/img/StructureDiagrams/processPic.png)
  
### 4.3 物理部署
灯具进销存管理系统中的客户端构件是放在客户端机器上，服务器端构件是放在服务器端机器上的。在客户端节点上，还要部署Java RMI构件。由于Java RMI构件属于JDK1.8的一部分。所以，在系统JDK环境已经设置好的前提下，不需要再独立部署。部署图如下图所示。
![](doc/img/StructureDiagrams/deployPic.png)

## 5 接口视角
### 5.1 模块的职责
### 5.2 用户界面层的分解
#### 5.2.1 用户界面层的职责
#### 5.2.2 用户界面层模块的接口规范
#### 5.2.3 用户界面模块的设计原理
用户界面利用java的Swing和AWT库来实现  

### 5.3 业务逻辑层的分解
#### 5.3.1 业务逻辑层模块的职责
#### 5.3.2 业务逻辑层模块的接口规范

### 5.4 数据层的分解
#### 5.4.1 数据层模块的职责
#### 5.4.2 数据层模块的接口规范

### 6 信息视角
#### 6.1 数据持久化对象
系统的PO类就是对应的相关实体类，系统主要的PO类如下图所示。  
* VarietyPO类：商品分类PO类，包含父分类名称，商品分类名称，商品分类编号。  
* ItemPO类：商品PO类，包含商品分类名称，商品名称，商品编号，型号，库存数量，进价，零售价，最近进价，最近零售价，警戒值。  
* ClientPO类：客户信息PO类，包含客户姓名，客户编号，分类，级别，电话，地址，邮编，电子邮箱，应收额度，应收，应付，默认业务员。  
* AccountPO类：账户信息PO类，包含银行账号，账户名称，余额。  
* InitializationPO类：期初信息PO类，包含时间区间，商品信息，客户信息，银行账户信息。  
* UserPO类：用户信息PO类，包含用户姓名，用户权限，用户编号。  
* LogPO类：日志记录PO类，包含时间，操作员，操作记录。  
* Receipt_StockPO类：包含操作员，单据编号，商品，库存更改值。  
* Receipt_PurchasePO类：包含操作员，单据编号，供应商，仓库，入库商品列表（包括商品编号，商品名称，型号，数量，单价，金额，备注），备注，总额合计。  
* Receipt_SalePO类：包含操作员，单据编号，客户，业务员，仓库，出货商品列表（包括商品编号，商品名称，型号，数量，单价，金额，备注），折让前总额，折让，使用代金券金额，折让后总额，备注。  
* Receipt_ReturnPO类：包含操作员，单据编号，客户，仓库，退货商品列表（包括商品编号，商品名称，型号，数量，单价，金额，备注），备注，应退金额总计。  
* Receipt_PayOrReceivePO类：包含操作员，单据编号，客户，转账列表（银行账户，转账金额，备注），金额汇总。  
* Receipt_CashPO类：包含操作员，单据编号，银行账户，条目清单（条目名，金额，备注），金额汇总。  
* Receipt_GiftPO类：包含操作员，单据编号，仓库，赠送商品列表（包括商品编号，商品名称，型号，数量）。  

#### 6.2 Ser持久化对象
采用序列化存储方式，将数据存储在各个PO对应的.ser文件里  